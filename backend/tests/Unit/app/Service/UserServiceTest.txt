<?php

namespace Tests\Unit\app\Http\Controllers;

use Tests\TestCase;
use Illuminate\Http\JsonResponse;
use App\Http\Requests\UserRequest;
use App\Services\UserService;
use Illuminate\Foundation\Testing\WithFaker;
use Illuminate\Foundation\Testing\DatabaseTransactions;

class UserControllerTest extends TestCase
{
    use DatabaseTransactions, WithFaker;

    //protected $userRepository;
    protected $userService;

    public function setUp(): void
    {
        parent::setUp();

        //$this->userRepository = $this->createMock(UserRepository::class);
        $this->userService = $this->createMock(UserService::class);

    }

    public function createUserSuccess()
    {
        $requestData = [
            'name'=>'',
            'email'=>'teste3@mail.com',
            'cpf'=>'12345678904',
            'password'=>'123456',
            'password_confirmation'=>'123456',
        ];

        $request = new UserRequest($requestData);

       // $responseMock = $this->createMock(JsonResponse::class);

       $response = $this->userService->createUser($request);

       dd($response);
    }
}
